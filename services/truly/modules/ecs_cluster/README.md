# Volly Terraform Library Module | ECS Cluster

**Current Version**: v2.0

This module creates an ECS Cluster for management of ECS Services. 


## Known Issues
There are no known issues with this module.


## USAGE

#### Providers
From a root module, set a provider for the account in which to provision the ECS Cluster. When calling this Library module, set the provider equal to *aws.account*.



#### Features 

##### ECS Exec
The module supports enabling ECS Exec to allow users to run commands against Fargate Tasks within the ECS Cluster. This feature is enabled by setting the *enable_ecs_exec* variable to *true*.



#### Dependencies
This module has no dependencies.



## Example
#### Example with only *required* variables
    module "ecs_cluster" {
      source       = "git::ssh://git@bitbucket.org/v-dso/ecs-cluster"
      project      = "volly-example-project"
      environment  = "prod"
      cluster_name = "cluster"

      providers = {
        aws.account = aws.account
      }
    }

#### Example with *all* variables
    module "ecs_cluster" {
      source          = "git::ssh://git@bitbucket.org/v-dso/ecs-cluster"
      project         = "volly-example-project"
      environment     = "prod"
      cluster_name    = "cluster"
      enable_ecs_exec = true

      providers = {
        aws.account = aws.account
      }
    }



## Variables

#### Required Variables
* **environment** *string* = Environment that the ECS Cluster supports. 
    * Valid options are 'cit', 'uat', 'prod', or 'core'.
* **project** *string* = Friendly name of the project the ECS Cluster supports. 
    * Provided value is used to establish a name for the ECS Cluster.
      * ECS Cluster name is generated by appending the *cluster_name* to the *project*
* **cluster_name** *string* = Friendly Name of the ECS Cluster.


#### Optional Variables
* **enable_ecs_exec** *boolean* = Sets whether to enable ECS Exec to allow users to run commands against Fargate Tasks within the ECS Cluster.
    * Defaults to *false*.



## Outputs

#### ECS Cluster Outputs
* **cluster_name** = Friendly name of the ECS Cluster.
* **cluster_arn** = ARN of the ECS Cluster.
* **cluster_id** = ID of the ECS Cluster.

#### Cloudwatch Log Group Outputs
* **log_group_name** = Friendly name of the CloudWatch Log Group to which ECS Exec logs are delivered.
* **log_group_arn** = ARN of the CloudWatch Log Group to which ECS Exec logs are delivered.